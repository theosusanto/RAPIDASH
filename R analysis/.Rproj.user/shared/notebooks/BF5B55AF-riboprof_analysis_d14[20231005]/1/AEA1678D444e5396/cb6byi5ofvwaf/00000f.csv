"0",""
"0","# #use easy cyRest library to communicate with cytoscape."
"0","# "
"0","# tryCatch(expr = { library(RCy3)}, "
"0","#          error = function(e) { install_github(""cytoscape/RCy3"")}, finally = library(RCy3))"
"0","# "
"0","# #defined threshold for GSEA enrichments (need to be strings for cyrest call)"
"0","# pvalue_threshold <- ""0.05"""
"0","# qvalue_threshold <- ""0.001"""
"0","# "
"0","# similarity_threshold <- ""0.25"""
"0","# similarity_metric = ""JACCARD"""
"0","# "
"0","# generic_gmt_file <- file.path(getwd(),gmt_file)"
"0","# "
"0","# analysis_name <- ""Nterm_vs_wt"""
"0","# cur_model_name <- paste(""camera"",analysis_name,sep=""_"")"
"0","# results_filename <- file.path(getwd(),camera_results_file)"
"0","# "
"0","# #######################################"
"0","# #create EM - camera results"
"0","# #######################################"
"0","# current_network_name <- paste(cur_model_name,pvalue_threshold,qvalue_threshold,sep=""_"")"
"0","# "
"0","# em_command = paste('enrichmentmap build analysisType=""generic""',"
"0","#                    'gmtFile=',generic_gmt_file,"
"0","#                    'pvalue=',pvalue_threshold,"
"0","#                    'qvalue=',qvalue_threshold,"
"0","#                    'similaritycutoff=',similarity_threshold,"
"0","#                    'coefficients=',similarity_metric,"
"0","#                    'enrichmentsDataset1=',results_filename,"
"0","#                    # 'expressionDataset1=',file.path(getwd(),"
"0","#                    #                             expression_file),"
"0","#                    sep="" "")"
"0","# "
"0","# #enrichment map command will return the suid of newly created network."
"0","# response <- commandsGET(em_command)"
"0","# "
"0","# "
"0","# current_network_suid <- 0"
"0","# #enrichment map command will return the suid of newly created network unless it Failed.  "
"0","# #If it failed it will contain the word failed"
"0","# if(grepl(pattern=""Failed"", response)){"
"0","#   paste(response)"
"0","# } else {"
"0","#   current_network_suid <- response"
"0","# }"
"0","# "
"0","# response <- renameNetwork(current_network_name, as.numeric(current_network_suid))"
"0",""
